<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz divertido do Pedro :D</title>
    <link rel="stylesheet" href="globals.css">
</head>
<body>
    <div class="game-container" id="gameContainer">
        <!-- P√°gina do Jogo -->
        <div id="gamePage">
            <!-- Imagens de fundo -->
            <div class="background-images">
                <!-- Espa√ßo para imagens do desafio, controlado via JS -->
                <div id="desafio-imagens"></div>
            </div>

            <!-- Elementos flutuantes -->
            <div class="floating-elements" id="floatingElements"></div>

            <!-- Header -->
            <div class="game-header">
                <h1 class="game-title">Vc √© uma mulher incrivel?</h1>
                <p class="game-subtitle" id="gameSubtitle">Primeira pergunta - Seu nome √© Vit√≥ria Mar√ßola e concorda que engenharia > quimica?</p>
            </div>

            <!-- Bal√£o -->
            <div class="balloon" id="balloon">
                <div class="balloon-string"></div>
                <div class="balloon-decoration heart">üíñ</div>
                <div class="balloon-decoration sparkle">‚ú®</div>
                <div class="balloon-decoration angry hidden" id="angryDecoration">üò§üí®</div>
                
                <div class="balloon-question" id="balloonQuestion">Qual √© a melhor resposta?</div>
                <div class="balloon-options" id="balloonOptions">
                    <button class="balloon-option" onclick="handleAnswer(false)">n√£o!üò†</button>
                    <button class="balloon-option" onclick="handleAnswer(true)">sim!‚ú®</button>
                </div>
            </div>
        </div>

        <!-- P√°gina de Celebra√ß√£o -->
        <div id="celebrationPage" class="celebration-page hidden">
            <div class="celebration-bg">
                <!-- Imagens de fundo celebra√ß√£o -->
                <div class="celebration-image" style="left: 15%; top: 15%; transform: rotate(8deg); animation-delay: 0s;">
                    <img src="imagens/imagem9.jpeg" alt="Imagem 9">
                    <div class="bg-decoration">üíñ</div>
                </div>
                <div class="celebration-image" style="left: 65%; top: 15%; transform: rotate(-8deg); animation-delay: 0.3s;">
                    <img src="imagens/imagem10.jpeg" alt="Imagem 10">
                    <div class="bg-decoration">‚ú®</div>
                </div>
                <div class="celebration-image" style="left: 15%; top: 65%; transform: rotate(-10deg); animation-delay: 0.6s;">
                    <img src="imagens/imagem11.jpeg" alt="Imagem 11">
                    <div class="bg-decoration">üåü</div>
                </div>
                <div class="celebration-image" style="left: 65%; top: 65%; transform: rotate(10deg); animation-delay: 0.9s;">
                    <img src="imagens/imagem12.jpeg" alt="Imagem 12">
                    <div class="bg-decoration">üíï</div>
                </div>

                <!-- Confetes -->
                <div id="confettiContainer"></div>
            </div>

            <div class="celebration-content">
                <div class="celebration-card">
                    <div class="celebration-icons">
                        <span>‚ú®</span>
                    </div>
                    
                    <h1 class="celebration-title">PARAB√âNS! üåü</h1>
                    
                    <p class="celebration-text">
                        ‚ú® Voc√™ conseguiu! Agora os bal√µes n√£o podem mais fugir de voc√™! üíï
                    </p>

                    <div class="celebration-emojis">
                        <span class="celebration-emoji" style="animation-delay: 0s;">‚ú®</span>
                        <span class="celebration-emoji" style="animation-delay: 0.3s;">üíñ</span>
                    </div>
                    
                    <div class="celebration-small-icons">
                        <span>üåü</span>
                    </div>

                    <button class="restart-button" onclick="restartGame()">
                        <span>üéÆ</span>
                        Jogar Novamente
                        <span>‚ú®</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Fun√ß√£o para atualizar imagens do desafio conforme etapa
        function updateDesafioImagens() {
            const container = document.getElementById('desafio-imagens');
            container.innerHTML = '';
            let imagens;
            if (currentStage === 0) {
                imagens = [
                    {src: 'imagens/imagem1.jpeg', alt: 'Imagem 1', left: '15%', top: '15%', delay: '0s', deco: 'üíñ'},
                    {src: 'imagens/imagem2.jpeg', alt: 'Imagem 2', left: '65%', top: '15%', delay: '0.8s', deco: '‚ú®'},
                    {src: 'imagens/imagem3.jpeg', alt: 'Imagem 3', left: '15%', top: '65%', delay: '1.6s', deco: 'üåü'},
                    {src: 'imagens/imagem4.jpeg', alt: 'Imagem 4', left: '65%', top: '65%', delay: '2.4s', deco: 'üíï'}
                ];
            } else {
                imagens = [
                    {src: 'imagens/imagem5.jpeg', alt: 'Imagem 5', left: '20%', top: '20%', delay: '0.2s', deco: 'üíñ'},
                    {src: 'imagens/imagem6.jpeg', alt: 'Imagem 6', left: '60%', top: '20%', delay: '1s', deco: '‚ú®'},
                    {src: 'imagens/imagem7.jpeg', alt: 'Imagem 7', left: '20%', top: '60%', delay: '1.8s', deco: 'üåü'},
                    {src: 'imagens/imagem8.jpeg', alt: 'Imagem 8', left: '60%', top: '60%', delay: '2.6s', deco: 'üíï'}
                ];
            }
            imagens.forEach(img => {
                const div = document.createElement('div');
                div.className = 'bg-image';
                div.style.left = img.left;
                div.style.top = img.top;
                div.style.animationDelay = img.delay;
                div.innerHTML = `<img src="${img.src}" alt="${img.alt}"><div class="bg-decoration">${img.deco}</div>`;
                container.appendChild(div);
            });
        }
        // Estado do jogo
        let currentStage = 0;
        let currentPositionIndex = 0;
        let isMoving = false;

        // Perguntas
        const questions = [
            {
                question: "Qual √© a melhor resposta?",
                options: [
                    { text: "N√£o! üò†", correct: false },
                    { text: "Sim! ‚ú®", correct: true }
                ]
            },
            {
                question: "Agora escolha sabiamente!",
                options: [
                    { text: "Sim! ‚ú®", correct: true },
                    { text: "N√£o ÔøΩ", correct: false }
                ]
            }
        ];

        // Posi√ß√µes fixas do bal√£o
        const fixedPositions = [
            { x: 25, y: 25 }, // A - Superior esquerdo
            { x: 75, y: 25 }, // B - Superior direito
            { x: 50, y: 75 }  // C - Centro inferior
        ];

        // Elementos
        const balloon = document.getElementById('balloon');
        const gameSubtitle = document.getElementById('gameSubtitle');
        const balloonQuestion = document.getElementById('balloonQuestion');
        const balloonOptions = document.getElementById('balloonOptions');
        const angryDecoration = document.getElementById('angryDecoration');
        const gamePage = document.getElementById('gamePage');
        const celebrationPage = document.getElementById('celebrationPage');

        // Inicializa√ß√£o
        function init() {
            createFloatingElements();
            createConfetti();
            updateBalloonPosition(fixedPositions[0]);
            updateGameContent();
        }

        // Criar elementos flutuantes
        function createFloatingElements() {
            const container = document.getElementById('floatingElements');
            const elements = ['üåü', '‚≠ê', 'üíñ', '‚ú®', 'üíï', 'üåü'];
            
            for (let i = 0; i < 8; i++) {
                const element = document.createElement('div');
                
                if (i % 2 === 0) {
                    element.className = 'cloud';
                } else {
                    element.className = 'star';
                    element.textContent = elements[i % elements.length];
                }
                
                element.style.left = Math.random() * 100 + '%';
                element.style.top = (Math.random() * 80 + 10) + '%';
                element.style.animationDelay = Math.random() * 2 + 's';
                element.style.animationDuration = (4 + Math.random() * 3) + 's';
                
                container.appendChild(element);
            }
        }

        // Criar confetes
        function createConfetti() {
            const container = document.getElementById('confettiContainer');
            const confettiEmojis = ['‚ú®', 'üíñ', 'üåü', 'üíï', '‚≠ê', 'üíñ', 'üåü', 'üíù'];
            
            for (let i = 0; i < 40; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.textContent = confettiEmojis[Math.floor(Math.random() * confettiEmojis.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = Math.random() * 100 + '%';
                confetti.style.animationDelay = Math.random() * 4 + 's';
                confetti.style.animationDuration = (3 + Math.random() * 2) + 's';
                
                container.appendChild(confetti);
            }
        }

        // Atualizar posi√ß√£o do bal√£o
        function updateBalloonPosition(position) {
            balloon.style.left = position.x + '%';
            balloon.style.top = position.y + '%';
        }

        // Atualizar conte√∫do do jogo
        function updateGameContent() {
            updateDesafioImagens();
            const question = questions[currentStage];
            balloonQuestion.textContent = question.question;
            // Atualiza o t√≠tulo e subt√≠tulo dinamicamente
            const gameTitle = document.querySelector('.game-title');
            if (currentStage === 0) {
                gameTitle.textContent = 'Vc √© uma mulher incrivel?';
                gameSubtitle.textContent = 'Primeira pergunta - Seu nome √© Vit√≥ria Mar√ßola e concorda que engenharia > quimica?';
            } else {
                gameTitle.textContent = 'Segundo desafio!';
                gameSubtitle.textContent = 'Voce tem uma dona muito bonitinha chamada Marie?';
            }
            
            balloonOptions.innerHTML = '';
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'balloon-option';
                button.textContent = option.text;
                button.onclick = () => handleAnswer(option.correct);
                balloonOptions.appendChild(button);
            });
        }

        // Mover bal√£o suavemente
        function moveBalloonTo(targetPosition) {
            if (isMoving) return;
            
            isMoving = true;
            // Removido efeito de tremor, apenas deslize
            angryDecoration.classList.remove('hidden');
            
            const startPosition = {
                x: parseFloat(balloon.style.left || '50'),
                y: parseFloat(balloon.style.top || '50')
            };
            
            const duration = 1000; // 1 segundo
            const startTime = Date.now();
            
            function animate() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Easing function
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                
                const currentPos = {
                    x: startPosition.x + (targetPosition.x - startPosition.x) * easeProgress,
                    y: startPosition.y + (targetPosition.y - startPosition.y) * easeProgress
                };
                
                updateBalloonPosition(currentPos);
                
                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    isMoving = false;
                    // Removido efeito de tremor, apenas deslize
                    angryDecoration.classList.add('hidden');
                }
            }
            
            animate();
        }

        // Lidar com resposta
        function handleAnswer(isCorrect) {
            if (isMoving) return;
            
            if (isCorrect) {
                if (currentStage < questions.length - 1) {
                    currentStage++;
                    currentPositionIndex = 0;
                    updateGameContent();
                    updateBalloonPosition(fixedPositions[0]);
                } else {
                    showCelebration();
                }
            } else {
                // Mover para pr√≥xima posi√ß√£o
                currentPositionIndex = (currentPositionIndex + 1) % fixedPositions.length;
                moveBalloonTo(fixedPositions[currentPositionIndex]);
            }
        }

        // Mostrar celebra√ß√£o
        function showCelebration() {
            gamePage.classList.add('hidden');
            celebrationPage.classList.remove('hidden');
        }

        // Reiniciar jogo
        function restartGame() {
            currentStage = 0;
            currentPositionIndex = 0;
            isMoving = false;
            
            celebrationPage.classList.add('hidden');
            gamePage.classList.remove('hidden');
            
            updateBalloonPosition(fixedPositions[0]);
            updateGameContent();
            balloon.classList.remove('moving');
            angryDecoration.classList.add('hidden');
        }

        // Inicializar quando a p√°gina carregar
        window.addEventListener('load', init);
    </script>
</body>
</html>
